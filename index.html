<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¼ë³¸ êµ¬ë§¤ëŒ€í–‰ ê³„ì‚°ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #fdf2f8 0%, #faf5ff 100%);
        }
        .gradient-purple {
            background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
        }
        .gradient-pink {
            background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
        }
        .item-card {
            transition: all 0.2s ease-in-out;
        }
        .item-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="max-w-4xl mx-auto p-4">
        <div class="bg-white rounded-2xl shadow-xl p-6">
            <!-- í—¤ë” -->
            <div class="text-center mb-8">
                <div class="flex items-center justify-center gap-3 mb-4">
                    <div class="w-8 h-8 bg-pink-600 rounded-lg flex items-center justify-center">
                        <span class="text-white text-sm font-bold">ê³„</span>
                    </div>
                    <h1 class="text-3xl font-bold text-gray-800">Greenbean ê°œì¸ì§êµ¬ ëª¨ì˜ ê³„ì‚°ê¸°</h1>
                </div>
                <p class="text-gray-600">ì›í•˜ì‹œëŠ” ìƒí’ˆì˜ ì˜ˆìƒ ë¹„ìš©ì„ ë¯¸ë¦¬ í™•ì¸í•´ë³´ì„¸ìš”!</p>
            </div>

            <div class="grid lg:grid-cols-2 gap-8">
                <!-- ì…ë ¥ ì„¹ì…˜ -->
                <div class="space-y-6">
                    <!-- ìƒí’ˆì •ë³´ -->
                    <div class="bg-pink-50 p-6 rounded-xl border border-pink-100">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2">
                            <div class="w-5 h-5 bg-pink-600 rounded flex items-center justify-center">
                                <span class="text-white text-xs">ğŸ“¦</span>
                            </div>
                            ìƒí’ˆ ì •ë³´
                        </h2>
                        
                        <div class="space-y-4">
                            <div id="items-container">
                                <!-- ìƒí’ˆë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                            </div>
                            
                            <button onclick="addItem()" class="w-full bg-pink-100 hover:bg-pink-200 text-pink-700 font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2 border border-pink-300">
                                <span class="text-lg">+</span>
                                ìƒí’ˆ ì¶”ê°€
                            </button>
                            
                            <div class="bg-white p-3 rounded-lg border border-pink-200">
                                <div class="text-sm text-gray-600" id="items-summary">
                                    ì´ 0ê°œ ìƒí’ˆ â€¢ Â¥0
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ë°°ì†¡ì •ë³´ -->
                    <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2">
                            <div class="w-5 h-5 bg-blue-600 rounded flex items-center justify-center">
                                <span class="text-white text-xs">ğŸš›</span>
                            </div>
                            ë°°ì†¡ ì •ë³´
                        </h2>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    ì¼ë³¸ êµ­ë‚´ë°°ì†¡ë¹„
                                    <span class="text-xs text-gray-500 ml-2">(ë³´í†µ 500~800ì—”)</span>
                                </label>
                                <div class="relative">
                                    <input type="number" id="domesticShipping" oninput="calculateTotal()" class="w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg" placeholder="500">
                                    <span class="absolute left-3 top-3 text-gray-500">Â¥</span>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    íŒ¨í‚¤ì§€ ë¬´ê²Œ ì„ íƒ <span class="text-pink-600">*</span>
                                </label>
                                <select id="packageWeight" onchange="calculateTotal()" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg bg-white">
                                    <option value="">ë¬´ê²Œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                    <option value="0.5">0.5kg - Â¥630</option>
                                    <option value="1.0">1.0kg - Â¥730</option>
                                    <option value="1.5">1.5kg - Â¥830</option>
                                    <option value="2.0">2.0kg - Â¥930</option>
                                    <option value="2.5">2.5kg - Â¥1,030</option>
                                    <option value="3.0">3.0kg - Â¥1,130</option>
                                    <option value="3.5">3.5kg - Â¥1,230</option>
                                    <option value="4.0">4.0kg - Â¥1,330</option>
                                    <option value="4.5">4.5kg - Â¥1,430</option>
                                    <option value="5.0">5.0kg - Â¥1,530</option>
                                    <option value="5.5">5.5kg - Â¥1,630</option>
                                    <option value="6.0">6.0kg - Â¥1,730</option>
                                    <option value="6.5">6.5kg - Â¥1,830</option>
                                    <option value="7.0">7.0kg - Â¥1,930</option>
                                    <option value="7.5">7.5kg - Â¥2,030</option>
                                    <option value="8.0">8.0kg - Â¥2,130</option>
                                    <option value="8.5">8.5kg - Â¥2,230</option>
                                    <option value="9.0">9.0kg - Â¥2,330</option>
                                    <option value="9.5">9.5kg - Â¥2,430</option>
                                    <option value="10.0">10.0kg - Â¥2,530</option>
                                </select>
                                <p class="text-xs text-gray-500 mt-1">* ë¬´ê²Œë¥¼ ëª¨ë¥´ì‹œë©´ 1~3kg ì •ë„ë¡œ ì˜ˆìƒí•´ë³´ì„¸ìš”</p>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    í™˜ìœ¨ (1ì—” = ?ì›)
                                    <span class="text-xs text-gray-500 ml-2">(ë¯¸ì…ë ¥ì‹œ 9.5ë¡œ ê³„ì‚°í•©ë‹ˆë‹¤)</span>
                                </label>
                                <div class="relative">
                                    <input type="number" id="exchangeRate" oninput="calculateTotal()" step="0.01" class="w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg" placeholder="9.5">
                                    <span class="absolute left-3 top-3 text-gray-500">â‚©</span>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    ê´€ì„¸/í†µê´€ë¹„ (ì„ íƒì‚¬í•­)
                                    <span class="text-xs text-gray-500 ml-2">(20ë§Œì› ì´í•˜ëŠ” ë³´í†µ ë©´ì„¸)</span>
                                </label>
                                <div class="relative">
                                    <input type="number" id="customsFee" oninput="calculateTotal()" class="w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg" placeholder="0">
                                    <span class="absolute left-3 top-3 text-gray-500">â‚©</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ë™ì˜ì‚¬í•­ -->
                    <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2">
                            <div class="w-5 h-5 bg-gray-600 rounded flex items-center justify-center">
                                <span class="text-white text-xs">ğŸ“‹</span>
                            </div>
                            ì´ìš© ì•ˆë‚´
                        </h2>
                        
                        <div class="space-y-4">
                            <div class="flex items-start gap-3">
                                <input type="checkbox" id="agreement1" onchange="checkAgreements()" class="mt-1 w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">
                                <label for="agreement1" class="text-sm text-gray-700 leading-relaxed">
                                    ì¶”ê°€ ë°•ìŠ¤ í¬ì¥ì´ í•„ìš”í•œ ê²½ìš° / ê¹¨ì§€ê¸° ì‰¬ìš´ ìƒí’ˆì˜ ê²½ìš° ì¶”ê°€ë¹„ìš©ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                                </label>
                            </div>
                            
                            <div class="flex items-start gap-3">
                                <input type="checkbox" id="agreement2" onchange="checkAgreements()" class="mt-1 w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">
                                <label for="agreement2" class="text-sm text-gray-700 leading-relaxed">
                                    ìƒí’ˆ ë¶ˆëŸ‰/í•˜ìëŠ” ì œì¡°ì‚¬ ì±…ì„ìœ¼ë¡œ ëŒ€í–‰ì—…ì²´ì—ì„œëŠ” êµí™˜/í™˜ë¶ˆì´ ë¶ˆê°€í•©ë‹ˆë‹¤.
                                </label>
                            </div>
                            
                            <div class="flex items-start gap-3">
                                <input type="checkbox" id="agreement3" onchange="checkAgreements()" class="mt-1 w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500">
                                <label for="agreement3" class="text-sm text-gray-700 leading-relaxed">
                                    í¸ì˜ë¥¼ ìœ„í•œ ëª¨ì˜ ê³„ì‚°ê¸°ì´ë©° í™˜ìœ¨ ë³€ë™ì— ë”°ë¼ ì‹¤ì œ ê²°ì œì‹œ ê°€ê²©ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- ê²¬ì ì„œ ìƒì„± -->
                    <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                        <div class="space-y-4">
                            <button id="quoteButton" onclick="toggleQuote()" disabled class="w-full font-semibold py-4 px-6 rounded-lg transition-all duration-200 flex items-center justify-center gap-2 shadow-lg bg-gray-300 text-gray-500 cursor-not-allowed">
                                <span class="text-lg">ğŸ’¬</span>
                                ì•½ê´€ ë™ì˜ í›„ ì´ìš© ê°€ëŠ¥
                            </button>
                            
                            <p id="agreementMessage" class="text-center text-sm text-gray-500">ëª¨ë“  ì•½ê´€ì— ë™ì˜í•´ì£¼ì„¸ìš”</p>
                            
                            <div id="quoteContainer" class="hidden bg-white border-2 border-pink-200 rounded-lg p-4">
                                <div class="flex justify-between items-center mb-3">
                                    <span class="text-sm font-medium text-gray-700">ê²¬ì ì„œ</span>
                                    <button onclick="copyQuote()" class="bg-blue-500 hover:bg-blue-600 text-white text-xs px-3 py-2 rounded flex items-center gap-1 transition-colors">
                                        <span>ğŸ“‹</span>
                                        ë³µì‚¬
                                    </button>
                                </div>
                                <pre id="quoteContent" class="text-sm text-gray-800 whitespace-pre-wrap bg-gray-50 p-4 rounded border max-h-80 overflow-y-auto"></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ê²°ê³¼ ì„¹ì…˜ -->
                <div class="space-y-6">
                    <!-- ê³„ì‚° ê²°ê³¼ -->
                    <div class="gradient-purple text-white p-6 rounded-xl shadow-lg">
                        <h2 class="text-xl font-semibold mb-4 flex items-center gap-2">
                            <div class="w-5 h-5 bg-white bg-opacity-20 rounded flex items-center justify-center">
                                <span class="text-sm">ğŸ’³</span>
                            </div>
                            ì˜ˆìƒ ë¹„ìš©
                        </h2>
                        
                        <div class="space-y-3" id="results">
                            <div class="flex justify-between items-center py-2">
                                <span>ìƒí’ˆë¹„</span>
                                <span class="font-semibold" id="result-itemPrice">Â¥0</span>
                            </div>
                            
                            <div class="flex justify-between items-center py-2">
                                <span>ì¼ë³¸ ë°°ì†¡ë¹„</span>
                                <span class="font-semibold" id="result-domesticShipping">Â¥0</span>
                            </div>
                            
                            <div class="flex justify-between items-center py-2">
                                <span>êµ­ì œë°°ì†¡ë¹„</span>
                                <span class="font-semibold" id="result-internationalShipping">Â¥0</span>
                            </div>
                            
                            <div class="flex justify-between items-center py-2">
                                <span>ëŒ€í–‰ìˆ˜ìˆ˜ë£Œ (10%)</span>
                                <span class="font-semibold" id="result-agencyFee">Â¥0</span>
                            </div>
                            
                            <div class="flex justify-between items-center py-2">
                                <span>ê²°ì œìˆ˜ìˆ˜ë£Œ (3%)</span>
                                <span class="font-semibold" id="result-paymentFee">Â¥0</span>
                            </div>
                            
                            <div class="border-t border-purple-300 pt-3 mt-4">
                                <div class="flex justify-between items-center py-2">
                                    <span>ì¼ë³¸ ì´ì•¡</span>
                                    <span class="font-semibold" id="result-totalYen">Â¥0</span>
                                </div>
                                
                                <div class="flex justify-between items-center py-2">
                                    <span class="text-sm" id="exchange-info">í•œêµ­ í™˜ì‚°ì•¡ (1ì—”=9.5ì›)</span>
                                    <span class="font-semibold" id="result-totalKrw">â‚©0</span>
                                </div>
                                
                                <div class="flex justify-between items-center py-2" id="customs-row" style="display: none;">
                                    <span>ê´€ì„¸/í†µê´€ë¹„</span>
                                    <span class="font-semibold" id="result-customsFee">â‚©0</span>
                                </div>
                            </div>
                            
                            <div class="bg-white bg-opacity-20 rounded-lg p-4 mt-4">
                                <div class="flex justify-between items-center">
                                    <span class="text-xl font-bold">ì´ ê²°ì œì˜ˆìƒê¸ˆì•¡</span>
                                    <span class="text-2xl font-bold" id="result-finalTotal">â‚©0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ì•ˆë‚´ì‚¬í•­ -->
                    <div class="bg-yellow-50 border border-yellow-200 p-4 rounded-lg">
                        <h3 class="font-semibold text-yellow-800 mb-2">ğŸ’¡ ì•ˆë‚´ì‚¬í•­</h3>
                        <ul class="text-sm text-yellow-700 space-y-1">
                            <li>â€¢ ì‹¤ì œ ê¸ˆì•¡ì€ í™˜ìœ¨ ë³€ë™ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                            <li>â€¢ ë¶€í”¼ê°€ í° ìƒí’ˆì€ ë¶€í”¼ì¤‘ëŸ‰ì´ ì ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                            <li>â€¢ ì•½ 20ë§Œì› ì´ˆê³¼ ì‹œ ê´€ë¶€ê°€ì„¸ê°€ ë°œìƒí•©ë‹ˆë‹¤</li>
                            <li>â€¢ ëŒ€í˜•í™”ë¬¼ì˜ ê²½ìš° ì¶”ê°€ í™”ë¬¼ íƒë°°ë¹„ê°€ ë¶€ê³¼ë©ë‹ˆë‹¤</li>
                            <li>â€¢ ì •í™•í•œ ê²¬ì ì€ ìƒë‹´ í›„ í™•ì •ë©ë‹ˆë‹¤</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let itemCounter = 1;
        let items = [];
        let results = {
            totalItemPrice: 0,
            totalQuantity: 0,
            agencyFee: 0,
            totalDomesticShipping: 0,
            totalInternationalShipping: 0,
            totalPaymentFee: 0,
            totalCustomsFee: 0,
            totalYen: 0,
            totalKrw: 0,
            finalTotal: 0,
            currentExchangeRate: 9.5
        };

        // íŒ¨ë°€ë¦¬ ìš”ê¸ˆì œ ë°°ì†¡ë¹„ í…Œì´ë¸”
        const familyShippingRates = {
            0.5: 630, 1.0: 730, 1.5: 830, 2.0: 930, 2.5: 1030, 3.0: 1130, 3.5: 1230, 4.0: 1330,
            4.5: 1430, 5.0: 1530, 5.5: 1630, 6.0: 1730, 6.5: 1830, 7.0: 1930, 7.5: 2030, 8.0: 2130,
            8.5: 2230, 9.0: 2330, 9.5: 2430, 10.0: 2530
        };

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ìƒí’ˆ ì¶”ê°€
        window.onload = function() {
            addItem();
        };

        function addItem() {
            const itemId = itemCounter++;
            items.push({ id: itemId, price: '', quantity: 1 });
            renderItems();
        }

        function removeItem(id) {
            if (items.length > 1) {
                items = items.filter(item => item.id !== id);
                renderItems();
            }
        }

        function updateItem(id, field, value) {
            const item = items.find(item => item.id === id);
            if (item) {
                if (field === 'quantity') {
                    item[field] = parseInt(value) || 1;
                } else {
                    item[field] = value;
                }
                calculateTotal();
            }
        }

        function renderItems() {
            const container = document.getElementById('items-container');
            container.innerHTML = '';

            items.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'bg-white p-4 rounded-lg border border-pink-200 item-card';
                itemDiv.innerHTML = `
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-sm font-medium text-gray-700">ìƒí’ˆ ${index + 1}</span>
                        ${items.length > 1 ? `<button onclick="removeItem(${item.id})" class="text-red-500 hover:text-red-700 p-1 rounded">
                            <span class="text-lg">âˆ’</span>
                        </button>` : ''}
                    </div>
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="block text-xs font-medium text-gray-600 mb-1">
                                ê°€ê²© <span class="text-pink-600">*</span>
                            </label>
                            <div class="relative">
                                <input type="number" value="${item.price}" oninput="updateItem(${item.id}, 'price', this.value)" class="w-full pl-6 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent text-sm" placeholder="5000">
                                <span class="absolute left-2 top-2 text-gray-500 text-sm">Â¥</span>
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-600 mb-1">ìˆ˜ëŸ‰</label>
                            <input type="number" value="${item.quantity}" min="1" oninput="updateItem(${item.id}, 'quantity', this.value)" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent text-sm">
                        </div>
                    </div>
                `;
                container.appendChild(itemDiv);
            });

            calculateTotal();
        }

        function calculateTotal() {
            // ìƒí’ˆ ì´ì•¡ ê³„ì‚°
            const totalItemPrice = items.reduce((sum, item) => {
                const price = parseFloat(item.price) || 0;
                return sum + (price * item.quantity);
            }, 0);

            const totalQuantity = items.reduce((sum, item) => sum + item.quantity, 0);

            // ê¸°íƒ€ ë¹„ìš© ê³„ì‚°
            const domesticShipping = parseFloat(document.getElementById('domesticShipping').value) || 0;
            const packageWeight = document.getElementById('packageWeight').value;
            const internationalShipping = packageWeight ? (familyShippingRates[parseFloat(packageWeight)] || 0) : 0;
            const exchangeRate = parseFloat(document.getElementById('exchangeRate').value) || 9.5;
            const customsFee = parseFloat(document.getElementById('customsFee').value) || 0;

            // ìˆ˜ìˆ˜ë£Œ ê³„ì‚°
            const paymentFee = (totalItemPrice + domesticShipping) * 0.03;
            const agencyFee = (totalItemPrice + domesticShipping + internationalShipping + paymentFee) * 0.10;

            // ì´ì•¡ ê³„ì‚°
            const totalYen = totalItemPrice + agencyFee + domesticShipping + internationalShipping + paymentFee;
            const totalKrw = totalYen * exchangeRate;
            const finalTotal = totalKrw + customsFee;

            // ê²°ê³¼ ì €ì¥
            results = {
                totalItemPrice,
                totalQuantity,
                agencyFee,
                totalDomesticShipping: domesticShipping,
                totalInternationalShipping: internationalShipping,
                totalPaymentFee: paymentFee,
                totalCustomsFee: customsFee,
                totalYen,
                totalKrw,
                finalTotal,
                currentExchangeRate: exchangeRate
            };

            // UI ì—…ë°ì´íŠ¸
            updateUI();
        }

        function updateUI() {
            // ìƒí’ˆ ìš”ì•½
            document.getElementById('items-summary').textContent = 
                `ì´ ${results.totalQuantity}ê°œ ìƒí’ˆ â€¢ Â¥${formatYen(results.totalItemPrice)}`;

            // ê³„ì‚° ê²°ê³¼
            document.getElementById('result-itemPrice').textContent = `Â¥${formatYen(results.totalItemPrice)}`;
            document.getElementById('result-domesticShipping').textContent = `Â¥${formatYen(results.totalDomesticShipping)}`;
            document.getElementById('result-internationalShipping').textContent = `Â¥${formatYen(results.totalInternationalShipping)}`;
            document.getElementById('result-agencyFee').textContent = `Â¥${formatYen(results.agencyFee)}`;
            document.getElementById('result-paymentFee').textContent = `Â¥${formatYen(results.totalPaymentFee)}`;
            document.getElementById('result-totalYen').textContent = `Â¥${formatYen(results.totalYen)}`;
            document.getElementById('result-totalKrw').textContent = `â‚©${formatNumber(results.totalKrw)}`;
            document.getElementById('result-finalTotal').textContent = `â‚©${formatNumber(results.finalTotal)}`;

            // í™˜ìœ¨ ì •ë³´
            document.getElementById('exchange-info').textContent = `í•œêµ­ í™˜ì‚°ì•¡ (1ì—”=${results.currentExchangeRate}ì›)`;

            // ê´€ì„¸ í‘œì‹œ/ìˆ¨ê¹€
            const customsRow = document.getElementById('customs-row');
            const customsFeeElement = document.getElementById('result-customsFee');
            if (results.totalCustomsFee > 0) {
                customsRow.style.display = 'flex';
                customsFeeElement.textContent = `â‚©${formatNumber(results.totalCustomsFee)}`;
            } else {
                customsRow.style.display = 'none';
            }
        }

        function formatNumber(num) {
            const roundedUp = Math.ceil(num / 100) * 100;
            return new Intl.NumberFormat('ko-KR').format(roundedUp);
        }

        function formatYen(num) {
            return new Intl.NumberFormat('ja-JP').format(Math.round(num));
        }

        function checkAgreements() {
            const agreement1 = document.getElementById('agreement1').checked;
            const agreement2 = document.getElementById('agreement2').checked;
            const agreement3 = document.getElementById('agreement3').checked;
            const allChecked = agreement1 && agreement2 && agreement3;

            const button = document.getElementById('quoteButton');
            const message = document.getElementById('agreementMessage');

            if (allChecked) {
                button.disabled = false;
                button.className = 'w-full font-semibold py-4 px-6 rounded-lg transition-all duration-200 flex items-center justify-center gap-2 shadow-lg gradient-pink text-white hover:opacity-90';
                button.innerHTML = '<span class="text-lg">ğŸ’¬</span> ê²¬ì ì„œ í™•ì¸í•˜ê¸°';
                message.style.display = 'none';
            } else {
                button.disabled = true;
                button.className = 'w-full font-semibold py-4 px-6 rounded-lg transition-all duration-200 flex items-center justify-center gap-2 shadow-lg bg-gray-300 text-gray-500 cursor-not-allowed';
                button.innerHTML = '<span class="text-lg">ğŸ’¬</span> ì•½ê´€ ë™ì˜ í›„ ì´ìš© ê°€ëŠ¥';
                message.style.display = 'block';
            }
        }

        function toggleQuote() {
            const container = document.getElementById('quoteContainer');
            if (container.classList.contains('hidden')) {
                generateQuote();
                container.classList.remove('hidden');
            } else {
                container.classList.add('hidden');
            }
        }

        function generateQuote() {
            const date = new Date().toLocaleDateString('ko-KR');
            const finalPrice = Math.ceil(results.finalTotal / 100) * 100;
            const packageWeight = document.getElementById('packageWeight').value;
            
            const quote = `ğŸŒ¸ ì¼ë³¸êµ¬ë§¤ëŒ€í–‰ ê²¬ì ì„œ ğŸŒ¸
${date}

ğŸ“¦ ìƒí’ˆì •ë³´
â€¢ ì´ ${results.totalQuantity}ê°œ ìƒí’ˆ: Â¥${formatYen(results.totalItemPrice)}
â€¢ ì¼ë³¸ë°°ì†¡ë¹„: Â¥${formatYen(results.totalDomesticShipping)}
â€¢ êµ­ì œë°°ì†¡ë¹„: Â¥${formatYen(results.totalInternationalShipping)}${packageWeight ? ` (${packageWeight}kg)` : ''}

ğŸ’° ìˆ˜ìˆ˜ë£Œ
â€¢ ëŒ€í–‰ìˆ˜ìˆ˜ë£Œ(10%): Â¥${formatYen(results.agencyFee)}
â€¢ ê²°ì œìˆ˜ìˆ˜ë£Œ(3%): Â¥${formatYen(results.totalPaymentFee)}
${results.totalCustomsFee > 0 ? `â€¢ ê´€ì„¸/í†µê´€ë¹„: â‚©${formatNumber(results.totalCustomsFee)}\n` : ''}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’µ ì´ ê²°ì œê¸ˆì•¡: â‚©${formatNumber(finalPrice)}

ğŸ“Œ ì•ˆë‚´ì‚¬í•­
â€¢ í™˜ìœ¨ê¸°ì¤€: 1ì—” = ${results.currentExchangeRate}ì›
â€¢ 100ì› ë‹¨ìœ„ ì˜¬ë¦¼ ì ìš©
â€¢ í™˜ìœ¨ ë³€ë™ì‹œ ê¸ˆì•¡ ì¡°ì • ê°€ëŠ¥
â€¢ ê´€ì„¸ëŠ” í’ˆëª©ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤

ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ë¬¸ì˜í•´ì£¼ì„¸ìš”! ğŸ˜Š`;

            document.getElementById('quoteContent').textContent = quote;
        }

        function copyQuote() {
            const quoteText = document.getElementById('quoteContent').textContent;
            navigator.clipboard.writeText(quoteText).then(() => {
                alert('ê²¬ì ì„œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“‹');
            }).catch(() => {
                alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì§ì ‘ ì„ íƒí•´ì„œ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
            });
        }
    </script>
</body>
</html>
